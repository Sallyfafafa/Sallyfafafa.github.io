---
layout: post
#标题配置
title:  node中的js
#时间配置
date:   2020-01-09 14:33:00 +0800
#大类配置
categories: Node
#小类配置
tag: Node中的js
---

函数的参数数量
------
我们有个属性在平常写js时很少会用到，但是node中，这个属性是一个很好地属性。node通过这么一个属性来判断不同参数个数以提供不同的功能。
```js
var a = function (a, b, c) {
}
a.length == 3; // true
```

V8中的JavaScript
======

obj和keys
----

js获取对象的键：
```js
var a = {a : 'b', c : 'd'}
Object.prototype.e = 'f';
for (i in a) {
    if(a.hasOwnProperty(i)) {
        // 避免获取到 e
    }
}
```
但是在V8中，可以直接用：`Object.keys(a)`,返回一个装有键值的数组。

function
------
当函数的执行有错误抛出。V8可以追踪到错误位置。
```js
var fun = function() { error };
fun();
```
这是出错抛出的错误是:`Error at [Object Context] 1:12`
因为V8 没法为函数引用指派的名字。所以尽量这样写：
```js
var woot = function fun () { error };
woot();
```
这时的错误会抛出：`Error at fun([Object Context] 1:12)`

注：为函数命名有助于我们对代码进行调试。

存取器
-------
访问属性：_defineGetter_
设置属性：_defineSetter_

详细解释参见：https://www.ucloud.cn/yun/85426.html

里面还有用到API：`Object.defineProperty(obj, 'key', { // descriptor }) `举例。








