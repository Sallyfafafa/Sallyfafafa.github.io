---
layout: post
#标题配置
title:  ajax
#时间配置
date:   2019-10-09 13:55:00 +0800
#大类配置
categories: 微信小程序
#小类配置
tag: 小程序api
---

* content
{:toc}

基础部分
==========

有关系统和兼容性的
-------
查看小程序的api参数回调组件等等等等是否能在这个版本使用：wx.canIUse()这是一个bool的变量。

把ArrayBuffer和Base64相互转换用：wx.base64ToArrayBuffer();wx.arrayBufferToBase64()

获取系统信息，有同步和不同步版本。同步的：wx.getSystemInfoSync()不同步：wx.getSystemInfo，有三种回调，成功，失败，和调用结束

版本更新
-------
全局唯一的版本更新管理器，用wx.getUpdateManager()，它的实例中有许多相关的更新操作。

定时器
-------

刚进项目就遇到了一个要用定时器的地方，做一个抽奖的九宫格，有个抽奖动画。我一开始用了for循环遍历数组，并且嵌套两个settimeout。这个写法不是很好，后来被前辈改正，去掉了for循环，使用setinterval进行周期性循环，并且合理的搭配settimeout和clear进行异步的动画效果。

路由
=======

tabbar路由
-----

通过跳转到tabbar的页面而不是非tabbar

打开一个页面后关闭所有页面
------
wx.reLaunch（）

关闭当前页面并跳转其他非tabbar页面
------
wx.redirectTo()

保留当前页面并跳转到新得页面
------
wx.navigateTo()

关闭当前页面，也就是说返回上一个页面
-----
wx.navigateBack()

弹出的提示
========

弹出一个没有按钮的消息弹出框，可以有图标也可以只是文字
-------
wx.showToast()   隐藏用： wx.hideToast

弹一个有按钮的弹出框
------
wx.showModal（）

加载中提示框
-----
wx.showLoading 隐藏用wx.hideLoading


