---
layout: post
#标题配置
title:  小程序注意点
#时间配置
date:   2019-09-24 13:55:00 +0800
#大类配置
categories: 微信小程序
#小类配置
tag: 小程序组件
---

* content
{:toc}

写法注意：
========

变量名大小写敏感
-------

没有定义的变量或者定义了值为undefined的变量不会输出到wxml中
-------

数据进行双向绑定是通过{{}},这点类似与vue。
------

小程序中要绑定样式的时候最好使用style进行双向绑定。而不是class，class尽量是静态变量。

事件参数传递不能用驼峰
------
绑定事件传递数据的方法也与vue有所不同，Vue
可以直接加在函数的形参上，但是小程序中，传递参数是通过：data-参数名=”value“的方式传递参数的。这个时候要注意，参数名是不能用驼峰命名的，这里不支持大写，传递的参数名必须是小写。

条件逻辑
-----

这里与vue不同的是写法，vue中使用v-if进行逻辑判断，小程序用wx：if和wx：else
在写条件逻辑块的时候，如果要同时对连续的几个条件进行绑定，那么可以使用到
```html
<block wx:if="">内容</block>
```

列表渲染
-----
小程序是wx：for与vue中的v-for类似。他有个数组当前下标是index，数组当前变量名item。

wx：for-index=“自定义名称”或者wx：for-item=“自定义名称”

引用模版
-----
```html
<!-- item.wxml -->
<template name="item">
  <text>{{text}}</text>
</template>

<import src="item.wxml"/>//用is强调是哪个模版，这里要注意import没有递归属性
<template is="item" data="{{text: 'forbar'}}"/>
```

样式坑
=========
字体样式坑
------
```css
letter-spacing，font-weight
```
无效

动画坑
-----
在微信小程序中，用css3的过渡的话，字体会在安卓手机屏幕上面卡顿，流畅度不好。使用wx.createAnimation(option)


运行环境
======

小程序是在渲染层和逻辑层

逻辑层
-----
js脚本工作位置

渲染层
-------
wxml和wxss

this.setData（）方法
-----
逻辑层通过 Page 实例的 setData 方法传递数据到渲染层。最好写最小单位数据，可以提高小程序渲染性能。

生命周期
=====
onLoad
-----
监听页面加载，触发时机早于onShow和onReady。在这个周期内可以进行打开参数。

onShow
-----
小程序启动，或者后台进入前台时会触发。onShow早于onReady

onReady
----
监听页面数据初次加载完成

onLaunch
-----
小程序初始完成时会触发一次，（全局仅仅触发一次）



onHide
----
小程序从前台进入后台

onError
----
小程序发生脚本错误

页面路由
=======

以堆栈的方式把页面堆进栈中，最多堆10层。

wx.navigateTo({ url: 'pageD' })
---------
往当前页面栈多推入一个 pageD

wx.navigateBack() 
----------
退出当前页面栈的最顶上页面

wx.redirectTo({ url: 'pageE' }) 
--------
替换当前页面为pageE

wx.reLaunch
-------
重启动

事件
==========

在wxml里面绑定事件的时候，bind是冒泡（并且不会阻止事件向上冒泡），catch是中断冒泡。capture-bind是捕获状态。capture-catch是中断捕获，阻止冒泡。

绑定事件是可以通过语法  bind:tap=“事件名”

小程序微拍堂文档问题
---------
在知识点的setData中，在let newData = api.getData()的时候，取出来的是个对象还是数组？

newData.forEach(item => {
    newObj[`listData[${index++}]`] = item;
  });
newObj一定要是对象。




